<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Premium Quotes App</title>

<!-- Bootstrap -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Icons -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

<!-- Font -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
*{font-family:'Poppins',sans-serif}

body{
    background: linear-gradient(-45deg,#1d2671,#c33764,#6a11cb,#2575fc);
    background-size:400% 400%;
    animation: gradient 10s ease infinite;
    min-height:100vh;
    padding:30px;
}

@keyframes gradient{
    0%{background-position:0% 50%}
    50%{background-position:100% 50%}
    100%{background-position:0% 50%}
}

.title{
    color:white;
    text-align:center;
    font-weight:600;
    margin-bottom:20px;
}

.search-box{
    max-width:450px;
    margin:auto;
}

.quote-card{
    background: rgba(255,255,255,0.18);
    backdrop-filter: blur(14px);
    border-radius:20px;
    padding:25px;
    color:white;
    box-shadow:0 20px 40px rgba(0,0,0,0.3);
    position:relative;
    transition:0.4s;
}

.quote-card:hover{
    transform: translateY(-10px);
    box-shadow:0 30px 60px rgba(0,0,0,0.45);
}

.quote-icon{
    position:absolute;
    top:-20px;
    right:-10px;
    font-size:80px;
    opacity:0.12;
}

.quote-text{
    font-size:1.1rem;
    line-height:1.7;
}

.author{
    text-align:right;
    margin-top:15px;
    color:#ffd6b3;
    font-weight:600;
}

.like-btn{
    position:absolute;
    bottom:20px;
    left:20px;
    font-size:22px;
    cursor:pointer;
    color:white;
}

.like-btn.liked{
    color:#ff4d6d;
}

.view-btn{
    position:absolute;
    bottom:20px;
    right:20px;
    margin-right: 160px;
}
</style>
</head>

<body>

<div class="container">
    <h1 class="title">âœ¨ Premium Quotes</h1>

    <!-- Search -->
    <input type="text" id="search" class="form-control search-box mb-4"
           placeholder="ðŸ” Search quotes or author...">

    <div class="row g-4" id="quotesContainer"></div>
</div>

<!-- Modal -->
<div class="modal fade" id="quoteModal">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content text-dark p-4">
      <h5 id="modalQuote"></h5>
      <p class="text-end fw-bold mt-3" id="modalAuthor"></p>
    </div>
  </div>
</div>

<script>
let quotesData = [];
let likedQuotes = JSON.parse(localStorage.getItem("likedQuotes")) || [];

async function fetchQuotes(){
    const res = await fetch("https://dummyjson.com/quotes");
    const data = await res.json();
    quotesData = data.quotes;
    displayQuotes(quotesData);
}

function displayQuotes(quotes){
    const container = document.getElementById("quotesContainer");
    container.innerHTML = "";

    quotes.forEach((q,index)=>{
        const liked = likedQuotes.includes(q.id) ? "liked" : "";
        container.innerHTML += `
        <div class="col-md-6 col-lg-4">
            <div class="quote-card h-100">
                <i class="bi bi-quote quote-icon"></i>

                <p class="quote-text">"${q.quote}"</p>
                <div class="author">â€” ${q.author}</div>

                <i class="bi bi-heart-fill like-btn ${liked}"
                   onclick="toggleLike(${q.id}, this)"></i>

                <button class="btn btn-light btn-sm view-btn"
                    onclick="openModal('${q.quote}','${q.author}')">
                    View
                </button>
            </div>
        </div>
        `;
    });
}

function toggleLike(id,el){
    if(likedQuotes.includes(id)){
        likedQuotes = likedQuotes.filter(x => x !== id);
        el.classList.remove("liked");
    }else{
        likedQuotes.push(id);
        el.classList.add("liked");
    }
    localStorage.setItem("likedQuotes", JSON.stringify(likedQuotes));
}

function openModal(quote,author){
    document.getElementById("modalQuote").innerText = quote;
    document.getElementById("modalAuthor").innerText = "â€” " + author;
    new bootstrap.Modal(document.getElementById("quoteModal")).show();
}

// Search
document.getElementById("search").addEventListener("input",e=>{
    const value = e.target.value.toLowerCase();
    const filtered = quotesData.filter(q =>
        q.quote.toLowerCase().includes(value) ||
        q.author.toLowerCase().includes(value)
    );
    displayQuotes(filtered);
});

fetchQuotes();
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
